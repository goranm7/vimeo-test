<div class="upload-container">
  <div class="card">
    <h2>Record & Upload Video</h2>

    <!-- API Key input -->
    <div class="input-group">
      <input
        type="text"
        [(ngModel)]="vimeoApiKey"
        placeholder="Enter Vimeo API Key"
      />
    </div>

    <!-- File inputs (hidden) -->
    <input
      #cameraInput
      type="file"
      accept="video/*"
      capture="environment"
      (change)="onFileSelected($event)"
      hidden
    />
    <input
      #fileInput
      type="file"
      accept="video/*"
      (change)="onFileSelected($event)"
      hidden
    />

    <!-- Buttons -->
    <div class="btn-group">
      <button class="btn" (click)="cameraInput.click()">ðŸŽ¥ Record Video</button>
      <button class="btn" (click)="fileInput.click()">ðŸ“‚ Upload Video</button>
    </div>

    <!-- Preview -->
    <div *ngIf="videoPreview" class="preview">
      <p>Preview:</p>
      <video [src]="videoPreview" controls></video>
    </div>

    <!-- Upload button (only if a video is chosen) -->
    <button
      *ngIf="videoFile"
      class="btn"
      (click)="uploadToVimeo()"
      [disabled]="uploading || !vimeoApiKey"
    >
      {{ uploading ? 'Uploading...' : 'Upload to Vimeo' }}
    </button>

    <!-- Progress -->
    <div *ngIf="uploading" class="progress">
      <p>Progress: {{ uploadProgress }}%</p>
      <progress [value]="uploadProgress" max="100"></progress>
    </div>
  </div>
</div>
